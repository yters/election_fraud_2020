source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
cor.test(total_votes, all_r_vals)
total_votes
all_r_vals
plot(total_votes, all_r_vals)
dev.off()
plot(total_votes, all_r_vals)
source('code/draw_county_graph.r')
plot(total_votes, all_r_vals)
cor.test(total_votes, all_r_vals)
median(all_r_values)
median(all_r_vals)
mean(all_r_vals)
max(all_r_vals)
dev.off()
dev.off()
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/plot_every_county_per_election.r')
cor.test(total_votes_2020, all_r_vals_2020)
plot(total_votes_2020, all_r_vals_2020)
cor.test(total_votes_2016, all_r_vals_2016)
plot(total_votes_2016, all_r_vals_2016)
cor.test(total_votes_2012, all_r_vals_2012)
plot(total_votes_2012, all_r_vals_2012)
format(3, digits=3)
format(3, nsmall=3)
format(0.3, nsmall=3)

source('code/draw_county_graph.r')
votes_2020 <- read.table('results/votes_2020.txt')
votes_2020 <- read.table('results/votes_2020.txt')
votes_2020 <- read.table('results/votes_2020.txt')
dim(votes_2020)
registrations_2020 <- read.table('results/registrations_2020.txt')
library(reshape2)
ratios <- votes_2020/registrations_2020
dim(votes_2020)
dim(registrations_2020)
ratios <- votes_2020[1:98]/registrations_2020
ratios <- votes_2020[1:98,]/registrations_2020
y <- melt(t(ratios[1:30,]))[,3]
y
dim(votes)
dim(votes_2020)
x <- rep(1:dim(votes_2020)[1],dim(registrations_2020)[1])
length(x)
130*98
dim(registrations_2020)[1]
dim(votes_2020)[1]
x <- rep(1:dim(votes_2020)[2],dim(registrations_2020)[1])
length(x)
length(y)
x <- rep(1:dim(votes_2020)[2],30)
length(x)
fit <- lm(y ~ poly(x, degrees), na.action=na.exclude)
fit <- lm(y ~ poly(x, 6), na.action=na.exclude)
y[!is.finite(y)] <- 0
fit <- lm(y ~ poly(x, 6), na.action=na.exclude)
plot(1:130, fitted(fit)[1:130])
plot(1:130, fitted(fit)[1:130]*registrations_2020[1,])
plot(1:130, fitted(fit)[1:130]*registrations_2020[1,],type='l')
plot(fitted(fit)[1:130]*registrations_2020[1,],type='l')
plot(1:130, fitted(fit)[1:130]*registrations_2020[1,],type='l')
plot(1:130, votes_2020[1,])
plot(1:130, votes_2020[1,], type='l')
plot(1:130, fitted(fit)[1:130]*registrations_2020[1,],type='l')
plot(1:130, fitted(fit)[1:130]*registrations_2020[1,],type='l',ylim=c(0,5000))
par(new=TRUE)
plot(1:130, votes_2020[1,], type='l', ylim=c(0,5000))
pred <- fitted(fit)[1:130]*registrations_2020[1,]
cor.test(pred, votes_2020[1,])
cor.test(unlist(pred), unlist(votes_2020[1,]))
plot(1:130, votes_2020[1,], type='l', ylim=c(0,5000))
help(rbind)
source('code/draw_county_graph2.r')
source('code/draw_county_graph2.r')
source('code/draw_county_graph2.r')
source('code/draw_county_graph2.r')
source('code/draw_county_graph2.r')
source('code/draw_county_graph2.r')
source('code/draw_county_graph2.r')
source('code/draw_county_graph2.r')
fit_2020
source('code/draw_county_graph2.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
dim(votes_2020)
sample(1:dim(votes_2020)[1])[1:30]
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
summary(fit_2020)
summary(fit_2016)
summary(fit_2012)
summary(fit_2016)
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/plot_every_county_per_election.r')
sample(c(1,2,3,4),2)
source('code/plot_every_county_per_election.r')
source('code/plot_every_county_per_election.r')
source('code/plot_every_county_per_election.r')
source('code/plot_every_county_per_election.r')
source('code/plot_every_county_per_election.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/draw_county_graph.r')
source('code/plot_every_county_per_election.r')
source('code/plot_every_county_per_election.r')
source('code/draw_county_graph.r')
source('code/plot_every_county_per_election.r')
source('code/draw_county_graph.r')
